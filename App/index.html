<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <style>
        :root { 
            --accent: #7d00ff; 
            --bg-dark: #050505; 
            --sidebar-bg: #0b0b0b;
            --nav-bg: #0d0d0d;
            --text-muted: #888;
        }
        body { margin: 0; background: var(--bg-dark); color: white; font-family: 'Segoe UI', sans-serif; display: flex; flex-direction: row; height: 100vh; overflow: hidden; }
        
        /* SIDEBAR */
        #sidebar {
            width: 60px;
            background: var(--sidebar-bg);
            display: flex;
            flex-direction: column;
            align-items: center;
            padding-top: 20px;
            border-right: 1px solid #1a1a1a;
            z-index: 100;
        }
        
        .side-btn {
            width: 42px; height: 42px;
            display: flex; justify-content: center; align-items: center;
            cursor: pointer; border-radius: 12px; transition: all 0.2s ease;
            margin-bottom: 20px;
            overflow: hidden;
        }
        
        /* Icon Bilder Styling */
        .side-btn img {
            width: 26px; height: 26px;
            transition: transform 0.2s;
            filter: grayscale(0.2);
        }

        .side-btn:hover { background: rgba(255,255,255,0.1); transform: scale(1.05); }
        .side-btn:hover img { filter: grayscale(0); transform: scale(1.1); }
        
        #sidebar-bottom { margin-top: auto; padding-bottom: 25px; }

        /* MAIN CONTENT */
        #main-content { flex: 1; display: flex; flex-direction: column; position: relative; }
        #top-bar { background: var(--bg-dark); display: flex; padding: 10px 10px 0; gap: 5px; align-items: center; }
        .tab { 
            background: #151515; padding: 10px 18px; border-radius: 10px 10px 0 0; 
            font-size: 12px; cursor: pointer; border: 1px solid #222; border-bottom: none;
            min-width: 140px; display: flex; justify-content: space-between; align-items: center;
            color: var(--text-muted);
        }
        .tab.active { background: var(--nav-bg); color: white; border-top: 2px solid var(--accent); }
        
        #nav-bar { background: var(--nav-bg); padding: 10px; display: flex; gap: 10px; border-bottom: 1px solid #1a1a1a; }
        input { flex: 1; background: #000; border: 1px solid #222; color: white; padding: 10px; border-radius: 8px; outline: none; }
        input:focus { border-color: var(--accent); box-shadow: 0 0 10px rgba(125,0,255,0.3); }
        .btn { background: none; border: none; color: white; cursor: pointer; font-size: 18px; opacity: 0.6; }
        .btn:hover { opacity: 1; color: var(--accent); }

        #view-container { flex: 1; position: relative; }
        webview { position: absolute; width: 100%; height: 100%; display: none; background: #fff; }
        webview.active { display: flex; }
    </style>
</head>
<body>
    <div id="sidebar">
        <div class="side-btn" onclick="openDiscord()" title="Aether Community">
            <img src="https://cdn.prod.website-files.com/6257adef93867e3d0394e33b/6257adef93867e3d0394e33f_discord-icon.svg" alt="Discord">
        </div>
        
        <div id="sidebar-bottom">
            <div class="side-btn" onclick="openSettings()" title="Einstellungen">
                <img src="https://upload.wikimedia.org/wikipedia/commons/4/41/Settings-icon-symbol-vector.png" alt="Settings" style="width:28px; height:28px;">
            </div>
        </div>
    </div>

    <div id="main-content">
        <div id="top-bar">
            <div id="tabs-list" style="display:flex; gap:5px; overflow-x:auto;"></div>
            <button class="btn" onclick="addNewTab()" style="margin-left:10px;">+</button>
        </div>
        <div id="nav-bar">
            <button class="btn" onclick="goBack()">❮</button>
            <button class="btn" onclick="reloadTab()">↻</button>
            <input type="text" id="url-input" placeholder="Suche..." onkeydown="if(event.key==='Enter') navigate()">
            <button class="btn" onclick="navigate()">🚀</button>
        </div>
        <div id="view-container"></div>
    </div>

<script>
    let tabCount = 0;
    let activeId = null;

    function openSettings() {
        const exist = Array.from(document.querySelectorAll('webview')).find(wv => wv.src.includes('settings.html'));
        if (exist) switchTab(exist.id.replace('wv-', ''));
        else addNewTab('settings.html', 'Einstellungen');
    }

    function openDiscord() {
        // Lädt direkt deinen Server-Link
        addNewTab('https://discord.gg/YT2ufNkXb4', 'Aether Discord');
    }

    function addNewTab(url = 'welcome.html', title = "Neuer Tab") {
        tabCount++;
        const id = 'tab-' + tabCount;
        
        const tabBtn = document.createElement('div');
        tabBtn.className = 'tab';
        tabBtn.id = 'btn-' + id;
        tabBtn.innerHTML = <span class="title"></span><span onclick="closeTab('', event)" style="margin-left:10px">×</span>;
        tabBtn.onclick = () => switchTab(id);
        document.getElementById('tabs-list').appendChild(tabBtn);

        const wv = document.createElement('webview');
        wv.id = 'wv-' + id;
        wv.src = url;
        wv.addEventListener('page-title-updated', (e) => {
            if(!url.includes('.html')) document.getElementById('btn-' + id).querySelector('.title').innerText = e.title.substring(0, 15);
        });
        document.getElementById('view-container').appendChild(wv);
        switchTab(id);
    }

    function switchTab(id) {
        document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
        document.querySelectorAll('webview').forEach(w => w.classList.remove('active'));
        document.getElementById('btn-' + id).classList.add('active');
        document.getElementById('wv-' + id).classList.add('active');
        activeId = id;
        document.getElementById('url-input').value = document.getElementById('wv-' + id).src.includes('.html') ? '' : document.getElementById('wv-' + id).src;
    }

    function navigate() {
        const wv = document.getElementById('wv-' + activeId);
        let url = document.getElementById('url-input').value;
        if (!url.includes('.')) url = 'https://google.com/search?q=' + url;
        else if (!url.startsWith('http')) url = 'https://' + url;
        wv.src = url;
    }

    function closeTab(id, e) {
        e.stopPropagation();
        document.getElementById('btn-' + id).remove();
        document.getElementById('wv-' + id).remove();
        const tabs = document.querySelectorAll('.tab');
        if (tabs.length > 0) switchTab(tabs[tabs.length-1].id.replace('btn-', ''));
        else addNewTab();
    }

    function goBack() { document.getElementById('wv-' + activeId).goBack(); }
    function reloadTab() { document.getElementById('wv-' + activeId).reload(); }

    addNewTab('welcome.html', 'HOME');
</script>
</body>
</html>
