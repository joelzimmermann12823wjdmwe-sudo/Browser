<!DOCTYPE html>
<html lang="de"><head><meta charset="UTF-8">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<style>
    :root { --bg: #0d1117; --sidebar: #090c10; --text: white; --border: #30363d; --accent: #58a6ff; }
    body.light { --bg: #f0f2f5; --sidebar: #ffffff; --text: #1c1e21; --border: #ddd; --accent: #007bff; }
    body { margin: 0; background: var(--bg); color: var(--text); font-family: 'Segoe UI', sans-serif; display: flex; height: 100vh; transition: 0.3s; }
    .sidebar { width: 70px; background: var(--sidebar); display: flex; flex-direction: column; justify-content: space-between; align-items: center; padding: 20px 0; border-right: 1px solid var(--border); -webkit-app-region: drag; }
    .sidebar i { font-size: 20px; color: #8b949e; cursor: pointer; -webkit-app-region: no-drag; transition: 0.2s cubic-bezier(0.4, 0, 0.2, 1); }
    .sidebar i:hover { color: var(--accent); transform: scale(1.1); }
    .main-content { flex: 1; display: flex; flex-direction: column; }
    .top-bar { height: 80px; background: var(--bg); display: flex; align-items: center; padding: 0 30px; border-bottom: 1px solid var(--border); -webkit-app-region: drag; }
    .search-box { flex: 1; display: flex; justify-content: center; -webkit-app-region: no-drag; }
    input { width: 60%; background: #161b22; border: 1px solid var(--border); padding: 12px 20px; border-radius: 25px; color: white; outline: none; transition: 0.3s; }
    body.light input { background: white; color: black; }
    .win-ctrl { display: flex; gap: 20px; -webkit-app-region: no-drag; }
</style></head>
<body id="mainBody">
    <div class="sidebar">
        <div style="display:flex; flex-direction:column; gap:30px;">
            <i class="fas fa-home" onclick="window.electronAPI.loadUrl('https://google.com')"></i>
            <i class="fas fa-history" onclick="alert('History wird lokal gespeichert!')"></i>
        </div>
        <i class="fas fa-sliders" onclick="window.electronAPI.openSettings()"></i>
    </div>
    <div class="main-content">
        <div class="top-bar">
            <div style="font-weight: bold; color: var(--accent); font-size: 18px;">NEON GX</div>
            <div class="search-box"><input type="text" id="urlInput" placeholder="Suchen..."></div>
            <div class="win-ctrl">
                <i class="fas fa-minus" onclick="window.electronAPI.windowControl('minimize')" style="cursor:pointer"></i>
                <i class="fas fa-xmark" onclick="window.electronAPI.windowControl('close')" style="cursor:pointer; color:#f85149"></i>
            </div>
        </div>
    </div>
    <script>
        const input = document.getElementById('urlInput');
        // Theme laden
        if(localStorage.getItem('theme') === 'light') document.getElementById('mainBody').classList.add('light');
        
        input.addEventListener('keypress', (e) => { if (e.key === 'Enter') window.electronAPI.loadUrl(input.value); });
        
        // History lokal speichern
        window.electronAPI.onUrlChanged((url) => {
            let history = JSON.parse(localStorage.getItem('browser_history') || '[]');
            history.push({url: url, time: new Date().toLocaleString()});
            localStorage.setItem('browser_history', JSON.stringify(history.slice(-50))); // Letzte 50
        });
    </script>
</body></html>
